<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <record id="email_template_send_kpi" model="mail.template">
            <field name="name">Send Employee KPI</field>
            <field name="model_id" ref="employee_work_performance.model_employee_work_performance"/>
            <field name="subject">Welcome to Africab Group</field>
            <field name="email_from"> </field>
            <field name="email_to"> </field>
            <field name="email_cc"> </field>
            <field name="body_html" type="html">
                <p>Hello <t t-esc="object.employee_id.name or ''"/>,</p><br> </br>
                <p>Welcome to the team! We’re thrilled to have you on board. Your skills and experience will be a great addition to our company, and we're excited to see the impact you'll make.</p>
                <p>As you settle in, feel free to reach out with any questions or if you need help with anything. We're here to support you and ensure you have everything you need to succeed.</p>
                <p>Here’s to a great start and many achievements ahead! Welcome again, and we’re looking forward to working with you.</p>
                <p>Below are the your KPI for Year <t t-esc="object.year_of_kpi or ''"/></p>
                <t t-set="i" t-value="1" />
                <t t-foreach="object.employee_kpi_ids" t-as="kpi">
                    <p><span t-esc="i"/>. <span t-field="kpi.name"/></p>
                    <t t-set="i" t-value="i+1"/>
                </t>
                <br> </br><br> </br>
                <p>Africab Group<br> </br>
                Human Resource Department<br> </br>
                Dar Es Salaam, Tanzania<br> </br>
                Email:hr@africab.com</p>
            </field>
        </record>

        <record id="email_template_send_task" model="mail.template">
            <field name="name">Send Employee Task</field>
            <field name="model_id" ref="employee_work_performance.model_employee_work_performance"/>
            <field name="subject">Task Assigned to You</field>
            <field name="email_from"> </field>
            <field name="email_to"> </field>
            <field name="email_cc"> </field>
            <field name="body_html" type="html">
                <p>Hello <t t-esc="object.employee_id.name or ''"/>,</p>
                <br/>
                <p>Please take a look at the task assigned to you below. Could you please close this task as the TAT has been given?</p>

                <t t-set="i" t-value="1" />
                <!-- Task Table -->
                <table style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="background-color: #f0f0f0;">
                            <th style="width: 70%; text-align: left; padding: 5px;">Task</th>
                            <th style="width: 30%; text-align: left; padding: 5px;">TAT</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Iterate through the One2many employee_task_ids field (Main Tasks) -->
                        <t t-foreach="object.employee_task_ids" t-as="main_task">
                            <!-- Display Main Task -->
                            <tr>
                                <td style="padding: 5px;">
                                    <!-- Main Task Sequence Number -->
                                    <span t-esc="i"/>. <span t-esc="main_task.name"/>
                                </td>
                                <td style="padding: 5px;">
                                    <!-- Main Task TAT -->
                                    <t t-esc="main_task.task_completed_date and main_task.task_completed_date.strftime('%d %B %Y') or 'Pending'"/>
                                </td>
                            </tr>

                            <!-- Iterate through sub_task_line_ids (Sub-Tasks under each Main Task) -->
                            <t t-set="j" t-value="1" />
                            <t t-foreach="main_task.sub_task_line_ids" t-as="sub_task">
                                <tr>
                                    <td style="padding: 5px; padding-left: 20px;">
                                        <!-- Sub Task Sequence Number -->
                                        <span t-esc="i"/>.<span t-esc="j"/> <span t-esc="sub_task.name"/>
                                    </td>
                                    <td style="padding: 5px;">
                                        <!-- Sub Task TAT -->
                                        <t t-esc="sub_task.task_completed_date and sub_task.task_completed_date.strftime('%d %B %Y') or 'Pending'"/>
                                    </td>
                                </tr>
                                <t t-set="j" t-value="j + 1"/>
                            </t>

                            <!-- Increment the Main Task index after processing each main task -->
                            <t t-set="i" t-value="i + 1"/>
                        </t>
                    </tbody>
                </table>

                <br/><br/>
                <p>Africab Group<br/>
                Human Resource Department<br/>
                Dar Es Salaam, Tanzania<br/>
                Email: hr@africab.com</p>
            </field>
        </record>

        <record id="email_template_send_behaviour" model="mail.template">
            <field name="name">Send Employee Behaviour</field>
            <field name="model_id" ref="employee_work_performance.model_employee_work_performance"/>
            <field name="subject">Behaviour</field>
            <field name="email_from"> </field>
            <field name="email_to"> </field>
            <field name="email_cc"> </field>
            <field name="body_html" type="html">
                <p>Hello <t t-esc="object.employee_id.name or ''"/>,</p><br> </br>
                <p>Please take a look at the task assigned to you below... Could you please close this task as TAT has given it?</p>
                <t t-set="i" t-value="1" />
                <t t-foreach="object.employee_behaviour_ids" t-as="behaviour">
                    <p><span t-esc="i"/>. <span t-field="behaviour.name"/></p>
                    <t t-set="i" t-value="i+1"/>
                </t>
                <br> </br><br> </br>
                <p>Africab Group<br> </br>
                Human Resource Department<br> </br>
                Dar Es Salaam, Tanzania<br> </br>
                Email:hr@africab.com</p>
            </field>
        </record>

        <record id="email_template_send_innovation" model="mail.template">
            <field name="name">Send Employee Innovation</field>
            <field name="model_id" ref="employee_work_performance.model_employee_work_performance"/>
            <field name="subject">innovation</field>
            <field name="email_from"> </field>
            <field name="email_to"> </field>
            <field name="email_cc"> </field>
            <field name="body_html" type="html">
                <p>Hello <t t-esc="object.employee_id.name or ''"/>,</p><br> </br>
                <p>Please take a look at the task assigned to you below... Could you please close this task as TAT has given it?</p>
                <t t-set="i" t-value="1" />
                <t t-foreach="object.employee_innovation_ids" t-as="innovation">
                    <p><span t-esc="i"/>. <span t-field="innovation.name"/></p>
                    <t t-set="i" t-value="i+1"/>
                </t>
                <br> </br><br> </br>
                <p>Africab Group<br> </br>
                Human Resource Department<br> </br>
                Dar Es Salaam, Tanzania<br> </br>
                Email:hr@africab.com</p>
            </field>
        </record>

    </data>
</odoo>
